<div id="Getting-Notified"></div>
<div class="node">
<p>
Next: [cvs: How to edit a file which is being watched#Editing-files Editing files], Previous: [cvs: Telling CVS to watch certain files#Setting-a-watch Setting a watch], Up: [cvs: Mechanisms to track who is editing files#Watches Watches] &nbsp; |[cvs: Index#SEC_Contents Contents]||[cvs: Index#Index Index]|</p>
</div>
<hr>
<div id="Telling-CVS-to-notify-you"></div>
==== Telling CVS to notify you ====

<p>You can tell <small>CVS</small> that you want to receive
notifications about various actions taken on a file.
You can do this without using <code>cvs watch on</code> for
the file, but generally you will want to use <code>cvs
watch on</code>, to remind developers to use the <code>cvs edit</code>
command.
</p>
<div id="index-watch-add-_0028subcommand_0029"></div>
<dl>
<dt><div id="index-cvs-watch-add"></div>Command: <b>cvs watch add</b><i> [<code>-lR</code>] [<code>-a</code> <var>action</var>]&hellip; [<var>files</var>]&hellip;</i></dt>
<dd>
<p>Add the current user to the list of people to receive notification of
work done on <var>files</var>.
</p>
<p>The <code>-a</code> option specifies what kinds of events <small>CVS</small> should notify
the user about.  <var>action</var> is one of the following:
</p>
<dl compact="compact">
<dt><code>edit</code></dt>
<dd><p>Another user has applied the <code>cvs edit</code> command (described
below) to a watched file.
</p>
</dd>
<dt><code>commit</code></dt>
<dd><p>Another user has committed changes to one of the named <var>files</var>.
</p>
</dd>
<dt><code>unedit</code></dt>
<dd><p>Another user has abandoned editing a file (other than by committing changes).
They can do this in several ways, by:
</p>
<ul>
<li>
applying the <code>cvs unedit</code> command (described below) to the file

</li><li>
applying the <code>cvs release</code> command (see [cvs: release--Indicate that a Module is no longer in use#release release]) to the file&rsquo;s parent directory
(or recursively to a directory more than one level up)

</li><li>
deleting the file and allowing <code>cvs update</code> to recreate it

</li></ul>

</dd>
<dt><code>all</code></dt>
<dd><p>All of the above.
</p>
</dd>
<dt><code>none</code></dt>
<dd><p>None of the above.  (This is useful with <code>cvs edit</code>,
described below.)
</p>
</dd>
</dl>

<p>The <code>-a</code> option may appear more than once, or not at all.  If
omitted, the action defaults to <code>all</code>.
</p>
<p>The <var>files</var> and options are processed as for
<code>cvs watch on</code>.
</p>
</dd></dl>


<div id="index-watch-remove-_0028subcommand_0029"></div>
<dl>
<dt><div id="index-cvs-watch-remove"></div>Command: <b>cvs watch remove</b><i> [<code>-lR</code>] [<code>-a</code> <var>action</var>]&hellip; [<var>files</var>]&hellip;</i></dt>
<dd>
<p>Remove a notification request established using <code>cvs watch add</code>;
the arguments are the same.  If the <code>-a</code> option is present, only
watches for the specified actions are removed.
</p>
</dd></dl>

<div id="index-notify-_0028admin-file_0029"></div>
<p>When the conditions exist for notification, <small>CVS</small>
calls the &lsquo;<tt>notify</tt>&rsquo; administrative file.  Edit
&lsquo;<tt>notify</tt>&rsquo; as one edits the other administrative
files (see [cvs: The administrative files#Intro-administrative-files Intro administrative files]).  This
file follows the usual conventions for administrative
files (see [cvs: The common syntax#syntax syntax]), where each line is a regular
expression followed by a command to execute.  The
command should contain a single occurrence of &lsquo;<samp>%s</samp>&rsquo;
which will be replaced by the user to notify; the rest
of the information regarding the notification will be
supplied to the command on standard input.  The
standard thing to put in the <code>notify</code> file is the
single line:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><nowiki>ALL mail %s -s &quot;CVS notification&quot;
</nowiki></pre></td></tr></table>

<p>This causes users to be notified by electronic mail.
</p>
<div id="index-users-_0028admin-file_0029"></div>
<p>Note that if you set this up in the straightforward
way, users receive notifications on the server machine.
One could of course write a &lsquo;<tt>notify</tt>&rsquo; script which
directed notifications elsewhere, but to make this
easy, <small>CVS</small> allows you to associate a notification
address for each user.  To do so create a file
&lsquo;<tt>users</tt>&rsquo; in &lsquo;<tt>CVSROOT</tt>&rsquo; with a line for each
user in the format <var>user</var>:<var>value</var>.  Then
instead of passing the name of the user to be notified
to &lsquo;<tt>notify</tt>&rsquo;, <small>CVS</small> will pass the <var>value</var>
(normally an email address on some other machine).
</p>
<p><small>CVS</small> does not notify you for your own changes.
Currently this check is done based on whether the user
name of the person taking the action which triggers
notification matches the user name of the person
getting notification.  In fact, in general, the watches
features only track one edit by each user.  It probably
would be more useful if watches tracked each working
directory separately, so this behavior might be worth
changing.
</p>
<hr>
<div class="node">
<p>
Next: [cvs: How to edit a file which is being watched#Editing-files Editing files], Previous: [cvs: Telling CVS to watch certain files#Setting-a-watch Setting a watch], Up: [cvs: Mechanisms to track who is editing files#Watches Watches] &nbsp; |[cvs: Index#SEC_Contents Contents]||[cvs: Index#Index Index]|</p>
</div>
This document was generated by <em>a tester</em> on <em>a sunny day</em> using [http://www.nongnu.org/texi2html/ <em>texi2html</em>].
