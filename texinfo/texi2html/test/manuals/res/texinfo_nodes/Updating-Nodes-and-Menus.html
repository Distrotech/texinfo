<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- This manual is for GNU Texinfo (version 4.2, 28 March 2002),
a documentation system that can produce both online information and a
printed manual from a single source.

Copyright (C) 1988, 90, 91, 92, 93, 95, 96, 97, 98, 99, 2000, 01, 02
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify
this GNU Manual, like GNU software.  Copies published by the Free
Software Foundation raise funds for GNU development."

 -->
<!-- Created on a sunny day by texi2html
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU Texinfo 4.2: 2.4 Updating Nodes and Menus</title>

<meta name="description" content="GNU Texinfo 4.2: 2.4 Updating Nodes and Menus">
<meta name="keywords" content="GNU Texinfo 4.2: 2.4 Updating Nodes and Menus">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Updating-Nodes-and-Menus"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="Showing-the-Structure.html#Showing-the-Structure" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="Updating-Requirements.html#Updating-Requirements" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="Texinfo-Mode.html#Texinfo-Mode" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="Texinfo-Mode.html#Texinfo-Mode" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="Beginning-a-File.html#Beginning-a-File" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="texinfo.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="texinfo_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="Command-and-Variable-Index.html#Command-and-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="texinfo_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<hr size="1">
<a name="Updating-Nodes-and-Menus-1"></a>
<h2 class="section">2.4 Updating Nodes and Menus</h2>
<a name="index-Updating-nodes-and-menus"></a>
<a name="index-Create-nodes_002c-menus-automatically"></a>
<a name="index-Insert-nodes_002c-menus-automatically"></a>
<a name="index-Automatically-insert-nodes_002c-menus"></a>

<p>Texinfo mode provides commands for automatically creating or updating
menus and node pointers.  The commands are called &ldquo;update&rdquo; commands
because their most frequent use is for updating a Texinfo file after you
have worked on it; but you can use them to insert the &lsquo;Next&rsquo;,
&lsquo;Previous&rsquo;, and &lsquo;Up&rsquo; pointers into an <code>@node</code> line that has none
and to create menus in a file that has none.
</p>
<p>If you do not use the updating commands, you need to write menus and
node pointers by hand, which is a tedious task.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Updating-Commands">&bull; Updating Commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Five major updating commands.
</td></tr>
<tr><td align="left" valign="top"><a href="Updating-Requirements.html#Updating-Requirements">2.4.1 Updating Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       How to structure a Texinfo file for
                                  using the updating command.
</td></tr>
<tr><td align="left" valign="top"><a href="Other-Updating-Commands.html#Other-Updating-Commands">2.4.2 Other Updating Commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     How to indent descriptions, insert
                                  missing nodes lines, and update
                                  nodes in sequence.
</td></tr>
</table>

<a name="Updating-Commands"></a>
<a name="The-Updating-Commands"></a>
<h3 class="subheading">The Updating Commands</h3>

<p>You can use the updating commands to:
</p>
<ul>
<li>
insert or update the &lsquo;Next&rsquo;, &lsquo;Previous&rsquo;, and &lsquo;Up&rsquo; pointers of a
node,

</li><li>
insert or update the menu for a section, and

</li><li>
create a master menu for a Texinfo source file.
</li></ul>

<p>You can also use the commands to update all the nodes and menus in a
region or in a whole Texinfo file.
</p>
<p>The updating commands work only with conventional Texinfo files, which
are structured hierarchically like books.  In such files, a structuring
command line must follow closely after each <code>@node</code> line, except
for the &lsquo;Top&rsquo; <code>@node</code> line.  (A <em>structuring command line</em> is
a line beginning with <code>@chapter</code>, <code>@section</code>, or other
similar command.)
</p>
<p>You can write the structuring command line on the line that follows
immediately after an <code>@node</code> line or else on the line that
follows after a single <code>@comment</code> line or a single
<code>@ifinfo</code> line.  You cannot interpose more than one line between
the <code>@node</code> line and the structuring command line; and you may
interpose only an <code>@comment</code> line or an <code>@ifinfo</code> line.
</p>
<p>Commands which work on a whole buffer require that the &lsquo;Top&rsquo; node be
followed by a node with an <code>@chapter</code> or equivalent-level command.
The menu updating commands will not create a main or master menu for a
Texinfo file that has only <code>@chapter</code>-level nodes!  The menu
updating commands only create menus <em>within</em> nodes for lower level
nodes.  To create a menu of chapters, you must provide a &lsquo;Top&rsquo;
node.
</p>
<p>The menu updating commands remove menu entries that refer to other Info
files since they do not refer to nodes within the current buffer.  This
is a deficiency.  Rather than use menu entries, you can use cross
references to refer to other Info files.  None of the updating commands
affect cross references.
</p>
<p>Texinfo mode has five updating commands that are used most often: two
are for updating the node pointers or menu of a single node (or a
region); two are for updating every node pointer and menu in a file;
and one, the <code>texinfo-master-menu</code> command, is for creating a
master menu for a complete file, and optionally, for updating every
node and menu in the whole Texinfo file.
</p>
<p>The <code>texinfo-master-menu</code> command is the primary command:
</p>
<dl compact="compact">
<dt> <kbd>C-c C-u m</kbd></dt>
<dt> <kbd>M-x texinfo-master-menu</kbd></dt>
<dd><a name="index-texinfo_002dmaster_002dmenu"></a>
<p>Create or update a master menu that includes all the other menus
(incorporating the descriptions from pre-existing menus, if
any).
</p>
<p>With an argument (prefix argument, <kbd>C-u,</kbd> if interactive), first create or
update all the nodes and all the regular menus in the buffer before
constructing the master menu.  (See section <a href="The-Top-Node.html#The-Top-Node">The Top Node and Master Menu</a>, for more about a master menu.)
</p>
<p>For <code>texinfo-master-menu</code> to work, the Texinfo file must have a
&lsquo;Top&rsquo; node and at least one subsequent node.
</p>
<p>After extensively editing a Texinfo file, you can type the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">C-u M-x texinfo-master-menu
or
C-u C-c C-u m
</pre></td></tr></table>

<p>This updates all the nodes and menus completely and all at once.
</p></dd>
</dl>

<p>The other major updating commands do smaller jobs and are designed for
the person who updates nodes and menus as he or she writes a Texinfo
file.
</p>
<p>The commands are:
</p>
<dl compact="compact">
<dt> <kbd>C-c C-u C-n</kbd></dt>
<dt> <kbd>M-x texinfo-update-node</kbd></dt>
<dd><a name="index-texinfo_002dupdate_002dnode"></a>
<p>Insert the &lsquo;Next&rsquo;, &lsquo;Previous&rsquo;, and &lsquo;Up&rsquo; pointers for the node that point is
within (i.e., for the <code>@node</code> line preceding point).  If the
<code>@node</code> line has pre-existing &lsquo;Next&rsquo;, &lsquo;Previous&rsquo;, or &lsquo;Up&rsquo;
pointers in it, the old pointers are removed and new ones inserted.
With an argument (prefix argument, <kbd>C-u</kbd>, if interactive), this command
updates all <code>@node</code> lines in the region (which is the text
between point and mark).
</p>
</dd>
<dt> <kbd>C-c C-u C-m</kbd></dt>
<dt> <kbd>M-x texinfo-make-menu</kbd></dt>
<dd><a name="index-texinfo_002dmake_002dmenu"></a>
<p>Create or update the menu in the node that point is within.
With an argument (<kbd>C-u</kbd> as prefix argument, if
interactive), the command makes or updates menus for the
nodes which are either within or a part of the
region.
</p>
<p>Whenever <code>texinfo-make-menu</code> updates an existing menu, the
descriptions from that menu are incorporated into the new menu.  This
is done by copying descriptions from the existing menu to the entries
in the new menu that have the same node names.  If the node names are
different, the descriptions are not copied to the new menu.
</p>
</dd>
<dt> <kbd>C-c C-u C-e</kbd></dt>
<dt> <kbd>M-x texinfo-every-node-update</kbd></dt>
<dd><a name="index-texinfo_002devery_002dnode_002dupdate"></a>
<p>Insert or update the &lsquo;Next&rsquo;, &lsquo;Previous&rsquo;, and &lsquo;Up&rsquo; pointers for every
node in the buffer.
</p>
</dd>
<dt> <kbd>C-c C-u C-a</kbd></dt>
<dt> <kbd>M-x texinfo-all-menus-update</kbd></dt>
<dd><a name="index-texinfo_002dall_002dmenus_002dupdate"></a>
<p>Create or update all the menus in the buffer.  With an argument
(<kbd>C-u</kbd> as prefix argument, if interactive), first insert
or update all the node
pointers before working on the menus.
</p>
<p>If a master menu exists, the <code>texinfo-all-menus-update</code> command
updates it; but the command does not create a new master menu if none
already exists.  (Use the <code>texinfo-master-menu</code> command for
that.)
</p>
<p>When working on a document that does not merit a master menu, you can
type the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">C-u C-c C-u C-a
or
C-u M-x texinfo-all-menus-update
</pre></td></tr></table>

<p>This updates all the nodes and menus.
</p></dd>
</dl>

<p>The <code>texinfo-column-for-description</code> variable specifies the
column to which menu descriptions are indented.  By default, the value
is 32 although it is often useful to reduce it to as low as 24.  You
can set the variable with the <kbd>M-x edit-options</kbd> command
(see <a href="../emacs/Edit-Options.html#Edit-Options">(emacs)Edit Options</a> section &lsquo;Editing Variable Values&rsquo; in <cite>The GNU Emacs Manual</cite>) or with the <kbd>M-x set-variable</kbd> command (see <a href="../emacs/Examining.html#Examining">(emacs)Examining</a> section &lsquo;Examining and Setting Variables&rsquo; in <cite>The GNU Emacs Manual</cite>).
</p>
<p>Also, the <code>texinfo-indent-menu-description</code> command may be used to
indent existing menu descriptions to a specified column.  Finally, if
you wish, you can use the <code>texinfo-insert-node-lines</code> command to
insert missing <code>@node</code> lines into a file.  (See section <a href="Other-Updating-Commands.html#Other-Updating-Commands">Other Updating Commands</a>, for more information.)
</p>
<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="Showing-the-Structure.html#Showing-the-Structure" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="Updating-Requirements.html#Updating-Requirements" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="Texinfo-Mode.html#Texinfo-Mode" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="Texinfo-Mode.html#Texinfo-Mode" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="Beginning-a-File.html#Beginning-a-File" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="texinfo.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="texinfo_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="Command-and-Variable-Index.html#Command-and-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="texinfo_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>a tester</em> on <em>a sunny day</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html</em></a>.
 </font>
 <br>

</p>
</body>
</html>
