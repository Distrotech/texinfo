<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright (C) 2004, 2005, 2006, 2007 Alain Lahellec

Copyright (C) 2004, 2005, 2006, 2007 Patrice Dumas

Copyright (C) 2004, Ste'phane Hallegatte

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover text and with no Back-Cover Text.  
A copy of the license is included in the section entitled "GNU Free 
Documentation License."

 -->
<!-- Created on a sunny day by texi2html
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Miniker 102 manual: 3.1 Overview of additional features setting</title>

<meta name="description" content="Miniker 102 manual: 3.1 Overview of additional features setting">
<meta name="keywords" content="Miniker 102 manual: 3.1 Overview of additional features setting">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Miniker 102 manual">
<link href="Concepts-index.html#Concepts-index" rel="index" title="Concepts index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="mini_ker_abt.html#SEC_About" rel="help" title="About This Document">
<link href="Advanced-programming.html#Advanced-programming" rel="up" title="3 Advanced Miniker programming">
<link href="GNU-Free-Documentation-License.html#ADDENDUM_003a-How-to-use-this-License-for-your-documents" rel="next" title="C.1.1 ADDENDUM: How to use this License for your documents">
<link href="Advanced-programming.html#Advanced-programming" rel="previous" title="3 Advanced Miniker programming">
<style type="text/css">
<!--
@import "mini_ker_tex4ht_math.css";
@import "mini_ker_tex4ht_tex.css";

a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:pre}
span.nolinebreak {white-space:pre}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Selecting-features"></a>
<ul class="no-bullet"><li><a href="index.html#Top">Miniker 102 manual</a> </li>
<li><ul class="no-bullet"><li><a href="Advanced-programming.html#Advanced-programming">3 Advanced Miniker programming</a> </li>
</ul></li>
</ul>
<div class="header">
<p>
[<a href="Advanced-programming.html#Advanced-programming" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; </a>][<a href="Calling-the-model-code.html#Calling-the-model-code" title="Next section in reading order" accesskey="n" rel="next"> &gt; </a>] &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concepts-index.html#Concepts-index" title="Index" rel="index">Index</a>][<a href="mini_ker_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</p>
</div>
<a name="Overview-of-additional-features-setting"></a>
<h2 class="section">3.1 Overview of additional features setting</h2>

<a name="index-feature-setting"></a>
<a name="index-select-flag"></a>
<a name="index-logical-flags"></a>
<a name="index-selseq_002ekumac"></a>

<p>It is possible to enable some features by selecting which code should 
be part of the principal program. Each of these optionnal features are 
associated with a <em>select flag</em>. 
For example 
double precision is used instead of simple precision with 
the &lsquo;<samp>double</samp>&rsquo; select flag,
the model is a subroutine with the select flag &lsquo;<samp>monitor</samp>&rsquo;,
the Kalman filter code is set with &lsquo;<samp>kalman</samp>&rsquo; and the 1D gridded
model capabilities are associated with &lsquo;<samp>grid1d</samp>&rsquo;. 
To select a given feature the cmz statement <code>sel <var>select_flag</var></code> should
be written down in the &lsquo;<tt>selseq.kumac</tt>&rsquo; found in the model directory.
With make either the corresponding variable should be set to 1 or it
should be added to the <code>SEL</code> make variable, depending on the feature.
</p>
<p>Other features don&rsquo;t need different or additional code to be used. 
Most of the features are enabled by setting specific logical variables to
&lsquo;<samp>.true.</samp>&rsquo;. This is the case for
<code>zback</code> for the adjoint model, <code>zcommand</code> if the command is in a file
and <code>zlaw</code> if it is a function and <code>zkalman</code> for the Kalman filter.
These select and logical flags are described in the corresponding sections.
</p>
<p>In cmz an alternative of writing select flags to &lsquo;<tt>selseq.kumac</tt>&rsquo; is to
drive the compilation with <code>smod <var>sel_flag</var></code>. In that case the
<var>sel_flag</var> is selected and the files and executable goes to a directory
named &lsquo;<tt>sel_flag</tt>&rsquo;. 
</p>
<p>The select flags are taken into account during cmz directives preprocessing.
Therefore you have the possibility to use these flags to conditionnaly 
include pieces of code. In most cases you don&rsquo;t need to include code conditionally 
yourself though, but if you want to, this is covered in 
<a href="Programming-with-cmz-directives.html#Programming-with-cmz-directives">Programming with cmz directives</a>.
</p>
<hr>
<div class="header">
<p>
[<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concepts-index.html#Concepts-index" title="Index" rel="index">Index</a>][<a href="mini_ker_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</p>
</div>
<p>


</p>
</body>
</html>
