<div id="Rename-by-copying"></div>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">|[cvs: Moving the history file#Inside  &lt; ]|</td>
<td valign="middle" align="left">|[cvs: Moving and renaming directories#Moving-directories  &gt; ]|</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">|[cvs: Adding, removing, and renaming files and directories#Adding-and-removing  &lt;&lt; ]|</td>
<td valign="middle" align="left">|[cvs: Moving and renaming files#Moving-files  Up ]|</td>
<td valign="middle" align="left">|[cvs: History browsing#History-browsing  &gt;&gt; ]|</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">|[[cvs#Top|Top]]|</td>
<td valign="middle" align="left">|[cvs: Index#SEC_Contents Contents]|</td>
<td valign="middle" align="left">|[cvs: Index#Index Index]|</td>
<td valign="middle" align="left">|[cvs: About this Manual#SEC_About  ? ]|</td>
</tr></table>
<hr size="1">
<div id="Copying-the-history-file"></div>
==== Copying the history file ====

<p>This way also involves direct modifications to the
repository.  It is safe, but not without drawbacks.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><nowiki># <span class="roman">Copy the RCS file inside the repository</span>
$ cd $CVSROOT/<var>dir</var>
$ cp <var>old</var>,v <var>new</var>,v
# <span class="roman">Remove the old file</span>
$ cd ~/<var>dir</var>
$ rm <var>old</var>
$ cvs remove <var>old</var>
$ cvs commit <var>old</var>
# <span class="roman">Remove all tags from <var>new</var></span>
$ cvs update <var>new</var>
$ cvs log <var>new</var>             # <span class="roman">Remember the non-branch tag names</span>
$ cvs tag -d <var>tag1</var> <var>new</var>
$ cvs tag -d <var>tag2</var> <var>new</var>
&hellip;
</nowiki></pre></td></tr></table>

<p>By removing the tags you will be able to check out old
revisions.
</p>
<p>Advantages:
</p>
<ul>
<li>
Checking out old revisions works correctly, as long as
you use &lsquo;<samp>-r<var>tag</var></samp>&rsquo; and not &lsquo;<samp>-D<var>date</var></samp>&rsquo;
to retrieve the revisions.

</li><li>
The log of changes is maintained intact.

</li><li>
The revision numbers are not affected.
</li></ul>

<p>Disadvantages:
</p>
<ul>
<li>
You cannot easily see the history of the file across the rename.

</li></ul>

<hr size="1">
This document was generated by <em>a tester</em> on <em>a sunny day</em> using [http://www.nongnu.org/texi2html/ <em>texi2html</em>].
