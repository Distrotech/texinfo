<div id="Removing-files"></div>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">|[cvs: Adding files to a directory#Adding-files  &lt; ]|</td>
<td valign="middle" align="left">|[cvs: Removing directories#Removing-directories  &gt; ]|</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">|[cvs: Adding, removing, and renaming files and directories#Adding-and-removing  &lt;&lt; ]|</td>
<td valign="middle" align="left">|[cvs: Adding, removing, and renaming files and directories#Adding-and-removing  Up ]|</td>
<td valign="middle" align="left">|[cvs: History browsing#History-browsing  &gt;&gt; ]|</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">|[[cvs#Top|Top]]|</td>
<td valign="middle" align="left">|[cvs: Index#SEC_Contents Contents]|</td>
<td valign="middle" align="left">|[cvs: Index#Index Index]|</td>
<td valign="middle" align="left">|[cvs: About this Manual#SEC_About  ? ]|</td>
</tr></table>
<hr size="1">
<div id="Removing-files-1"></div>
=== Removing files ===
<div id="index-Removing-files"></div>
<div id="index-Deleting-files"></div>

<p>Directories change.  New files are added, and old files
disappear.  Still, you want to be able to retrieve an
exact copy of old releases.
</p>
<p>Here is what you can do to remove a file,
but remain able to retrieve old revisions:
</p>
<ul>
<li>
Make sure that you have not made any uncommitted
modifications to the file.  See section [cvs: Viewing differences#Viewing-differences Viewing differences],
for one way to do that.  You can also use the
<code>status</code> or <code>update</code> command.  If you remove
the file without committing your changes, you will of
course not be able to retrieve the file as it was
immediately before you deleted it.

</li><li>
Remove the file from your working copy of the directory.
You can for instance use <code>rm</code>.

</li><li>
Use &lsquo;<samp>cvs remove <var>filename</var></samp>&rsquo; to tell <small>CVS</small> that
you really want to delete the file.

</li><li>
Use &lsquo;<samp>cvs commit <var>filename</var></samp>&rsquo; to actually
perform the removal of the file from the repository.
</li></ul>

<p>When you commit the removal of the file, <small>CVS</small>
records the fact that the file no longer exists.  It is
possible for a file to exist on only some branches and
not on others, or to re-add another file with the same
name later.  <small>CVS</small> will correctly create or not create
the file, based on the &lsquo;<samp>-r</samp>&rsquo; and &lsquo;<samp>-D</samp>&rsquo; options
specified to <code>checkout</code> or <code>update</code>.
</p>
<div id="index-Remove-_0028subcommand_0029"></div>
<dl>
<dt><div id="index-cvs-remove"></div><u>Command:</u> <b>cvs remove</b><i> [options] files &hellip;</i></dt>
<dd>
<p>Schedule file(s) to be removed from the repository
(files which have not already been removed from the
working directory are not processed).  This command
does not actually remove the file from the repository
until you commit the removal.  For a full list of
options, see [cvs: Quick reference to CVS commands#Invoking-CVS Quick reference to CVS commands].
</p></dd></dl>

<p>Here is an example of removing several files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><nowiki>$ cd test
$ rm *.c
$ cvs remove
cvs remove: Removing .
cvs remove: scheduling a.c for removal
cvs remove: scheduling b.c for removal
cvs remove: use 'cvs commit' to remove these files permanently
$ cvs ci -m &quot;Removed unneeded files&quot;
cvs commit: Examining .
cvs commit: Committing .
</nowiki></pre></td></tr></table>

<p>As a convenience you can remove the file and <code>cvs
remove</code> it in one step, by specifying the &lsquo;<samp>-f</samp>&rsquo;
option.  For example, the above example could also be
done like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><nowiki>$ cd test
$ cvs remove -f *.c
cvs remove: scheduling a.c for removal
cvs remove: scheduling b.c for removal
cvs remove: use 'cvs commit' to remove these files permanently
$ cvs ci -m &quot;Removed unneeded files&quot;
cvs commit: Examining .
cvs commit: Committing .
</nowiki></pre></td></tr></table>

<p>If you execute <code>remove</code> for a file, and then
change your mind before you commit, you can undo the
<code>remove</code> with an <code>add</code> command.
</p>

<table><tr><td>&nbsp;</td><td><pre class="example"><nowiki>$ ls
CVS   ja.h  oj.c
$ rm oj.c
$ cvs remove oj.c
cvs remove: scheduling oj.c for removal
cvs remove: use 'cvs commit' to remove this file permanently
$ cvs add oj.c
U oj.c
cvs add: oj.c, version 1.1.1.1, resurrected
</nowiki></pre></td></tr></table>

<p>If you realize your mistake before you run the
<code>remove</code> command you can use <code>update</code> to
resurrect the file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><nowiki>$ rm oj.c
$ cvs update oj.c
cvs update: warning: oj.c was lost
U oj.c
</nowiki></pre></td></tr></table>

<p>When you remove a file it is removed only on the branch
which you are working on (see section [cvs: Branching and merging#Branching-and-merging Branching and merging]).  You can
later merge the removals to another branch if you want
(see section [cvs: Merging can add or remove files#Merging-adds-and-removals Merging can add or remove files]).
</p>
<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">|[cvs: Adding files to a directory#Adding-files  &lt; ]|</td>
<td valign="middle" align="left">|[cvs: Removing directories#Removing-directories  &gt; ]|</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">|[cvs: Adding, removing, and renaming files and directories#Adding-and-removing  &lt;&lt; ]|</td>
<td valign="middle" align="left">|[cvs: Adding, removing, and renaming files and directories#Adding-and-removing  Up ]|</td>
<td valign="middle" align="left">|[cvs: History browsing#History-browsing  &gt;&gt; ]|</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">|[[cvs#Top|Top]]|</td>
<td valign="middle" align="left">|[cvs: Index#SEC_Contents Contents]|</td>
<td valign="middle" align="left">|[cvs: Index#Index Index]|</td>
<td valign="middle" align="left">|[cvs: About this Manual#SEC_About  ? ]|</td>
</tr></table>
This document was generated by <em>a tester</em> on <em>a sunny day</em> using [http://www.nongnu.org/texi2html/ <em>texi2html</em>].
