<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created on a sunny day by texi2html
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Singular 2-0-4 Manual: 6 Tricks and pitfalls</title>

<meta name="description" content="Singular 2-0-4 Manual: 6 Tricks and pitfalls">
<meta name="keywords" content="Singular 2-0-4 Manual: 6 Tricks and pitfalls">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Tricks-and-pitfalls"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="singular_4.html#Functions-and-system-variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_4.html#voice" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Limitations" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Tricks-and-pitfalls-1"></a>
<h1 class="chapter">6 Tricks and pitfalls</h1>
<a name="index-Tricks-and-pitfalls"></a>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Limitations">6.1 Limitations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Major-differences-to-the-C-programming-language">6.2 Major differences to the C programming language</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Miscellaneous-oddities">6.3 Miscellaneous oddities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Identifier-resolution">6.4 Identifier resolution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="Limitations"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Limitations-1"></a>
<h2 class="section">6.1 Limitations</h2>
<a name="index-Limitations"></a>

<p><small>SINGULAR</small> has the following limitations:
</p><ul>
<li>
the characteristic of a prime field must be less than 2147483629 
</li><li>
the (weighted) degree of a monomial must be smaller than the largest <code>long</code>,
usually 2147483648
</li><li>
the exponent of a ring variable must be smaller than 32768
unless the ring ordering start with the pseudo ordering 
<code>L(</code> max_exponent <code>)</code>
</li><li>
the rank of any free module must be smaller than the largest <code>long</code>,
usually 2147483648
</li><li>
the number of parameters must be smaller than 32768
</li><li>
the number of ring variables must be smaller than 32768
</li><li>
the precision of long floating point numbers (for ground field <code>real</code>)
must be smaller than 32768
</li><li>
integers (of type <code>int</code>) have the limited range
from -2147483647 to 2147483647
</li><li>
floating point numbers (type <code>number</code> from field <code>real</code>) have
a limited range which is machine dependent. A typical range is -1.0e-38
to 1.0e+38.  The string representation of overflow and underflow is
machine dependent, as well. For example &quot;<code>Inf</code>&quot; on Linux, or 
&quot;<code>+.+00e+00</code>&quot; on HPUX.
</li><li>
the length of an identifier is unlimited but <code>listvar</code>
displays only the first 20 characters
</li><li>
statements may not contain more than 10000 tokens
</li><li>
<a name="index-German-Umlaute"></a>
<a name="index-non_002denglish-special-characters"></a>
<a name="index-special-characters_002c-non_002denglish"></a>
All input to Singular must be 7-bit clean, i.e. special characters like the
the German Umlaute (&auml;, &ouml;, etc.), or the French accent characters may 
neither appear as input to <small>SINGULAR</small>, nor in libraries or procedure
definitions.
</li></ul>

<hr>
<a name="Major-differences-to-the-C-programming-language"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Limitations" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#No-rvalue-of-increments-and-assignments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Major-differences-to-the-C-programming-language-1"></a>
<h2 class="section">6.2 Major differences to the C programming language</h2>
<a name="index-C-programming-language"></a>

<p>Although many constructs from <small>SINGULAR</small>&rsquo;s programming language are similar
to those from the C programming language, there are some subtle
differences. Most notably:
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#No-rvalue-of-increments-and-assignments">6.2.1 No rvalue of increments and assignments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Evaluation-of-logical-expressions">6.2.2 Evaluation of logical expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#No-case-or-switch-statement">6.2.3 No case or switch statement</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Usage-of-commas">6.2.4 Usage of commas</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Usage-of-brackets">6.2.5 Usage of brackets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Behavior-of-continue">6.2.6 Behavior of continue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Return-type-of-procedures">6.2.7 Return type of procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>
<hr>
<a name="No-rvalue-of-increments-and-assignments"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Evaluation-of-logical-expressions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="No-rvalue-of-increments-and-assignments-1"></a>
<h3 class="subsection">6.2.1 No rvalue of increments and assignments</h3>
<a name="index-rvalue"></a>

<p>The increment operator <code>++</code> (resp. decrement operator <code>--</code>)
has no rvalue, i.e., cannot be used on the right-hand sides of
assignments.  So, instead of
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">j = i++;  // WRONG!!!
</pre></td></tr></table>

<p>(which results in an error), it must be written
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">i++; j = i;
</pre></td></tr></table>

<p>Likewise, an assignment expression does not have a result.  Therefore,
compound assignments like <code>i = j = k;</code> are not allowed and result
in an error.
</p>
<hr>
<a name="Evaluation-of-logical-expressions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#No-rvalue-of-increments-and-assignments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#No-case-or-switch-statement" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Evaluation-of-logical-expressions-1"></a>
<h3 class="subsection">6.2.2 Evaluation of logical expressions</h3>
<a name="index-Evaluation-of-logical-expressions"></a>
<a name="index-and-1"></a>
<a name="index-or-1"></a>

<p><strong>All</strong> arguments of a logical expression are first evaluated and
then the value of the logical expression is determined. For example, the
logical expressions <code>(a || b)</code> is evaluated by first evaluating
<code>a</code> <em>and</em> <code>b</code>, even though the value of <code>b</code> has no
influence on the value of <code>(a || b)</code>, if <code>a</code> evaluates to
true. 
</p>
<p>Note, that this evaluation is different from the left-to-right,
conditional evaluation of logical expressions (as found in most
programming languages). For example, in these other languages, the value
of <code>(1 || b)</code> is determined without ever evaluating <code>b</code>.  This
causes some problems with boolean tests on variables, which might not be
defined at evaluation time. For example, the following results in an
error, if the variable <code>i</code> is undefined:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">if (defined(i) &amp;&amp; i &gt; 0) {} // WRONG!!!
</pre></td></tr></table>

<p>This must be written instead as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">if (defined(i))
{
  if (i &gt; 0) {}
}
</pre></td></tr></table>

<p>However, there are several short work-arounds for this problem:
</p><ol>
<li>
If a variable (say, <code>i</code>) is only to be used as a boolean flag, then
define (value is TRUE) and undefine (value is FALSE) <code>i</code> instead of
assigning a value. Using this scheme, it is sufficient to simply write

<table><tr><td>&nbsp;</td><td><pre class="smallexample">if (defined(i))
</pre></td></tr></table>

<p>in order to check whether <code>i</code> is TRUE. Use the command <code>kill</code>
to undefine a variable, i.e. to assign it a FALSE value (see section <a href="singular_4.html#kill">kill</a>).
</p></li><li>
If a variable  can have more than two values, then
define it, if necessary, before it is used for the first time.
For example, if the following is used within a procedure

<table><tr><td>&nbsp;</td><td><pre class="smallexample">if (! defined(DEBUG)) { int DEBUG = 1;}
&hellip;
if (DEBUG == 3)  {&hellip;}
if (DEBUG == 2)  {&hellip;}
&hellip;
</pre></td></tr></table>

<p>then a user of this procedure does not need to care about the existence
of the <code>DEBUG</code> variable &ndash; this remains hidden from the
user. However, if <code>DEBUG</code> exists globally, then its local default
value is overwritten by its global one.
</p></li></ol>

<hr>
<a name="No-case-or-switch-statement"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Evaluation-of-logical-expressions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Usage-of-commas" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="No-case-or-switch-statement-1"></a>
<h3 class="subsection">6.2.3 No case or switch statement</h3>
<a name="index-case"></a>
<a name="index-switch"></a>

<p><small>SINGULAR</small> does not offer a <code>case</code> (or <code>switch</code>)
statement. However, it can be imitated in the following way:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">while (1)
{
   if (choice == choice_1) { &hellip;; break;}
   &hellip;
   if (choice == choice_n) { &hellip;; break;}
   // default case
   &hellip;; break;
}
</pre></td></tr></table>

<hr>
<a name="Usage-of-commas"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#No-case-or-switch-statement" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Usage-of-brackets" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Usage-of-commas-1"></a>
<h3 class="subsection">6.2.4 Usage of commas</h3>
<a name="index-comma"></a>

<p>In <small>SINGULAR</small>, a comma separates list elements and the value of a comma
expression is a list.
Hence, commas can not be used to combine several expressions into
a single expression. For example, instead of writing
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">for (i=1, j=5; i&lt;5 || j&lt;10; i++, j++) {&hellip;} // WRONG!!!!!!
</pre></td></tr></table>

<p>one has to write
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">for (i,j = 1,5; i&lt;5 || j&lt;10; i++, j++) {&hellip;}
</pre></td></tr></table>

<hr>
<a name="Usage-of-brackets"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Usage-of-commas" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Behavior-of-continue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Usage-of-brackets-1"></a>
<h3 class="subsection">6.2.5 Usage of brackets</h3>
<a name="index-bracket"></a>

<p>In <small>SINGULAR</small>, curly brackets (<code>{</code> <code>}</code>) <strong>must
always</strong> be used to enclose the statement body following such constructs
like <code>if</code>, <code>else</code>, <code>for</code>, or <code>while</code>, even if this
block consists of only a single statement. Similarly, in the return
statement of a procedure, parentheses (<code>(</code> <code>)</code>) <strong>must
always</strong> be used to enclose the return value.  Even if there is no value
to return, parentheses have to be used after a return statement
(i.e., <code>return();</code>).  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">if (i == 1) return i;    // WRONG!!!!!
</pre></td></tr></table>

<p>results in an error. Instead, it must be written as
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">if (i == 1) { return (i); }
</pre></td></tr></table>

<hr>
<a name="Behavior-of-continue"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Usage-of-brackets" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Return-type-of-procedures" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Behavior-of-continue-1"></a>
<h3 class="subsection">6.2.6 Behavior of continue</h3>
<a name="index-continue-1"></a>
<p><small>SINGULAR</small>&rsquo;s <code>continue</code> construct is only valid inside the body
of a <code>for</code> or <code>while</code> construct. It skips the rest of the
loop-body and jumps to the beginning of the block. Unlike the
C-construct <small>SINGULAR</small>&rsquo;s <code>continue</code> <strong>does not execute the
increment statement</strong>. For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">for (int i = 1 ; i&lt;=10; i=i+1)
{
   &hellip;
   if (i==3) { i=8;continue; }
     // skip the rest if i is 3 and
     // continue with the next i: 8
   i;
}
&rarr; 1
&rarr; 2
&rarr; 8
&rarr; 9
&rarr; 10
</pre></td></tr></table>
<hr>
<a name="Return-type-of-procedures"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Behavior-of-continue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Major-differences-to-the-C-programming-language" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Miscellaneous-oddities" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Return-type-of-procedures-1"></a>
<h3 class="subsection">6.2.7 Return type of procedures</h3>
<a name="index-return-type-of-procedures"></a>

<p>Although the <small>SINGULAR</small> language is a strongly typed programming
language, the type of the
return value of a procedure does not need to be specified. As a
consequence, the return type of a procedure may vary, i.e., may, for
example, depend on the input. However, the return value
of such a procedure may then only be assigned to a variable of type
<code>def</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">proc type_return (int i)
{
  if (i &gt; 0) {return (i);}
  else {return (list(i));}
}
def t1 = type_return(1);
def t2 = type_return(-1);
typeof(t1); typeof(t2);
&rarr; int
&rarr; list
</pre></td></tr></table>

<p>Furthermore, it is mandatory to assign the return value of a procedure
to a variable of type <code>def</code>, if a procedure changes the current
ring using the <code>keepring</code> command (see section <a href="singular_4.html#keepring">keepring</a>) and returns a
ring-dependent value (like a polynomial or module).
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">proc def_return
{
  ring r=0,(x,y),dp;
  poly p = x;
  keepring r;
  return (x);
}
def p = def_return();
// poly p = def_return(); would be WRONG!!!
typeof(p);
&rarr; poly
</pre></td></tr></table>

<p>On the other hand, more than one value can be returned by a single
<code>return</code> statement. For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">proc tworeturn () { return (1,2); }
int i,j = tworeturn();
</pre></td></tr></table>


<hr>
<a name="Miscellaneous-oddities"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Return-type-of-procedures" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Identifier-resolution" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Miscellaneous-oddities-1"></a>
<h2 class="section">6.3 Miscellaneous oddities</h2>

<ol>
<li> integer division
<a name="index-integer-division"></a>
<a name="index-div-1"></a>

<p>If two numerical constants (i.e., two sequences of digits) are divided
using the <code>/</code> operator, the surrounding whitespace determines
which division to use: if there is no space between the constants and
the <code>/</code> operator (e.g., &quot;3/2&quot;), both numerical constants are
treated as of type <code>number</code> and the current ring division is
used. If there is at least one space surrounding the <code>/</code> operator
(e.g., &quot;3 / 2&quot;), both numerical constants are treated as of type
<code>int</code> and an integer division is performed. To avoid confusion, use
the <code>div</code> operator instead of <code>/</code> for integer division and an
explicit type cast to <code>number</code> for ring division. Note, that this
problem does only occur for divisions of numerical constants.
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  ring r=32002,x,dp;
  3/2;    // ring division
&rarr; -15994
  3 / 2;  // integer division
&rarr; 1
  3 div 2;
&rarr; 1
  number(3) / number(2);
&rarr; -15994
  number a=3;
  number b=2;
  a/b;
&rarr; -15994
  int c=3;
  int d=2;
  c / d;
&rarr; 1
</pre></td></tr></table>


</li><li> monomials and precedence
<a name="index-monomials-and-precedence"></a>

<p>The computation of a monomial has precedence over all operators:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  ring r=0,(x,y),dp;
  2xy^2 == (2*x*y)^2;
&rarr; 1
  2xy^2 == 2x*y^2;
&rarr; 0
  2x*y^2 == 2*x * (y^2);
&rarr; 1
</pre></td></tr></table>

</li><li> meaning of <code>mult</code>
<a name="index-mult-1"></a>
<a name="index-degree-1"></a>

<p>For an arbitrary ideal or module <code>i</code>, <code>mult(i)</code> returns the
multiplicity of the ideal generated by the leading monomials of the
given generators of <code>i</code>, hence depends on the monomial ordering!
</p>
<p>A standard mistake is to interpret <code>degree(i)</code> or <code>mult(i)</code>
for an inhomogeneous ideal <code>i</code> as the degree of the homogenization
or as something like the &rsquo;degree of the affine part&rsquo;. For the ordering
<code>dp</code> (degree reverse lexicographical) the converse is true: if
<code>i</code> is given by a standard basis, <code>mult(i)</code> is the degree of
the homogeneous ideal obtained by homogenization of <code>i</code> and then
putting the homogenizing variable to 0, hence it is the degree of the
part at infinity (this can also be checked by looking at the initial
ideal).
</p>
</li><li> size of ideals
<a name="index-ideals"></a>
<a name="index-size-1"></a>

<p><code>size</code> counts the non-zero entries of an ideal or module. Use
<code>ncols</code> to determine the actual number of entries in the ideal or module.
</p>
</li><li> computations in <code>qring</code>
<a name="index-qring-1"></a>

<p>In order to speed up computations in quotient rings, <small>SINGULAR</small>
usually does not reduce polynomials w.r.t. the quotient ideal; rather
the given representative is used as long as possible during
computations. If it is necessary, reduction is done during standard base
computations. To reduce a polynomial <code>f</code> by hand w.r.t. the
current quotient ideal use the command <code>reduce(f,std(0))</code>
(see section <a href="singular_4.html#reduce">reduce</a>).
</p>
</li><li> substring selection
<a name="index-string-1"></a>

<p>To extract substrings from a <code>string</code>, square brackets are used,
enclosing either two comma-separated <code>int</code>s or an
<code>intvec</code>. Although two comma-separated <code>int</code>s represent an
<code>intvec</code>, they mean different things in substring access. Square
brackets enclosing two <code>int</code>s (e.g. <code>s[2,6]</code>) return a
substring where the first integer denotes the starting position and the
second integer denotes the length of the substring. The result is
returned as a <code>string</code>. Square brackets enclosing an <code>intvec</code>
(e.g. <code>s[intvec(2,6)]</code>) return the characters of the string at the
position given by the values of the <code>intvec</code>. The result is
returned as an expression list of strings. 
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  string s = &quot;one-word&quot;;
  s[2,6];     // a substring starting at the second char
&rarr; ne-wor
  size(_);
&rarr; 6
  intvec v = 2,6;
  s[v];      // the second and the sixth char
&rarr; n o
  string st = s[v];  // stick together by an assignment
  st;
&rarr; no
  size(_);
&rarr; 2
  v = 2,6,8;
  s[v];
&rarr; n o d
</pre></td></tr></table>


</li></ol>

<hr>
<a name="Identifier-resolution"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Miscellaneous-oddities" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Identifier-resolution-1"></a>
<h2 class="section">6.4 Identifier resolution</h2>
<a name="index-identifier"></a>

<p>In <small>SINGULAR</small>, an identifier (i.e., a &quot;word&quot;) is resolved in the
following way and order: It is checked for
</p><ol>
<li>
a reserved name (like <code>ring</code>, <code>std</code>, &hellip;),
</li><li>
a local  variable (w.r.t. a procedure),
</li><li>
a local ring variable (w.r.t. the current basering locally set in a procedure),
</li><li>
a global variable,
</li><li>
a global ring variable (w.r.t. the current basering)
</li><li>
a monomial consisting of local ring variables written without operators,
</li><li>
a monomial consisting of global ring variables written without operators.
</li></ol>

<p>Consequently, it is allowed to have general variables with the same name
as ring  variables. However, the above identifier resolution order must
be kept in mind. Otherwise, surprising results may come up.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">ring r=0,(x,y),dp;
int x;
x*y; // resolved product int*poly, i.e., 0*y
&rarr; 0
xy; // &quot;xy&quot; is one identifier and resolved to monomial xy
&rarr; xy
</pre></td></tr></table>

<p>For these reasons, we strongly recommend not to use variables which
have the same name(s) as ring variables.
</p>
<p>Moreover, we strongly recommend not to use ring variables whose name is
fully contained in (i.e., is a substring of) another name of a ring
variable. Otherwise, effects like the following might occur:
</p>

<table><tr><td>&nbsp;</td><td><pre class="smallexample">ring r=0,(x, x1),dp; // name x is substring of name x1 !!!!!!!!!
x;x1;   // resolved poly x
&rarr; x
&rarr; x1
short=0; 2x1; // resolved to monomial 2*x^1 !!!!!!
&rarr; 2*x
2*x1; // resolved to product 2 times x1
&rarr; 2*x1
</pre></td></tr></table>

<hr>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Tricks-and-pitfalls" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="singular_6.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="singular.html#Preface" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="singular_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="singular_11.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="singular_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated on <i>a sunny day</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html</i></a>.
 </font>
 <br>

</p>
</body>
</html>
