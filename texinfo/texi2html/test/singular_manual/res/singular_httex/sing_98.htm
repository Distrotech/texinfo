<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on a sunny day by texi2html
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Singular 2-0-4 Manual: 4.6.5.1 MPfile links</title>

<meta name="description" content="Singular 2-0-4 Manual: 4.6.5.1 MPfile links">
<meta name="keywords" content="Singular 2-0-4 Manual: 4.6.5.1 MPfile links">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
@import "sing_tex4ht_tex.css";

a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en"  background="../singular_images/Mybg.png">

<table border="0" cellpadding="0" cellspacing="0">
<tr valign="top">
<td align="left">
<a name="MPfile-links"></a>
<a name="SEC98"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr valign="top" align="left">
<td valign="middle" align="left">  <a href="index.htm"><img
    src="../singular_images/singular-icon-transparent.png" width="50"
      border="0" alt="Top"></a>
</td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_97.htm#MP-links" title="Previous section in reading order"><img src="../singular_images/a_left.png" border="0" alt="Back: 4.6.5 MP links" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_99.htm#MPtcp-links" title="Next section in reading order"><img src="../singular_images/a_right.png" border="0" alt="Forward: 4.6.5.2 MPtcp links" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_66.htm#Data-types" title="Beginning of this chapter or previous chapter"><img src="../singular_images/a_leftdouble.png" border="0" alt="FastBack: 4. Data types" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_154.htm#Functions-and-system-variables" title="Next chapter"><img src="../singular_images/a_rightdouble.png" border="0" alt="FastForward: 5. Functions and system variables" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_97.htm#MP-links" title="Up section"><img src="../singular_images/a_up.png" border="0" alt="Up: 4.6.5 MP links" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="index.htm#Top" title="Cover (top) of document"><img src="../singular_images/a_top.png" border="0" alt="Top: Singular 2-0-4 Manual" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_toc.htm#SEC_Contents" title="Table of contents"><img src="../singular_images/a_tableofcon.png" border="0" alt="Contents: Table of Contents" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_915.htm#Index" title="Index"><img src="../singular_images/a_index.png" border="0" alt="Index: F. Index" align="middle"></a></td>
</tr>
<tr valign="top" align="left">
<td valign="middle" align="left"><a href="sing_abt.htm#SEC_About" title="About (help)"><img src="../singular_images/a_help.png" border="0" alt="About: About This Document" align="middle"></a></td>
</tr>
</table>
</td>
<td align="left">
<h4 class="subsubsection">4.6.5.1 MPfile links</h4>

<p>MPfile links provide the possibility to store data in a file using the
binary MP format. Read and write operations are very fast compared to
ASCII links. Therefore, for storing large amounts of data, MPfile links
should be used instead of ASCII links. Unlike ASCII links, data read
from MPfile links is returned as expressions one at a time, and not as a
string containing the entire content of the file. Furthermore, ring-dependent
data is stored together with a ring description. Therefore,
reading ring-dependent data might change the current ring.
</p>
<p>The MPfile link describing string has to be one of the following:
</p>
<ol>
<li> <code>&quot;MPfile: &quot;</code> + filename
<br>the mode (read or append) is set by the first <code>read</code> or
<code>write</code> command.
</li><li> <code>&quot;MPfile:r &quot;</code> + filename
<br>opens the file for reading.
</li><li> <code>&quot;MPfile:w &quot;</code> + filename
<br>opens the file for overwriting.
</li><li> <code>&quot;MPfile:a &quot;</code> + filename
<br>opens the file for appending.
</li></ol>

<p>There are the following default values:
</p><ul>
<li> if none of <code>r</code>, <code>w</code>, or <code>a</code> is specified, the mode of
the link is set by the first <code>read</code> or <code>write</code> command on the
link. If the first command is <code>write</code>, the mode is set to <code>a</code>
(append mode).
</li></ul>

<p>Note that the filename may contain a path. An MPfile link can be used
either for reading or for writing, but not for both at the same time. A
<code>close</code> command must be used before a change of I/O direction.
</p>
<br><p><strong>Example:</strong>
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">  ring r;
  link l=&quot;MPfile:w example.mp&quot;; // type=MPfile, mode=overwrite
  l;
&rarr; // type : MPfile
&rarr; // mode : w
&rarr; // name : example.mp
&rarr; // open : no
&rarr; // read : not ready
&rarr; // write: not ready
  ideal i=x2,y2,z2;
  write (l,1, i, &quot;hello world&quot;);// write three expressions
  write(l,4);                   // append one more expression
  close(l);                     // link is closed
  // open the file for reading now
  read(l);                      // only first expression is read
&rarr; 1
  kill r;                       // no basering active now
  def i = read(l);              // second expression
  // notice that current ring was set, the name was assigned
  // automatically
  listvar(ring);
&rarr; // mpsr_r0              [0]  *ring
  def s = read(l);              // third expression
  listvar();
&rarr; // s                    [0]  string hello world
&rarr; // mpsr_r0              [0]  *ring
&rarr; //      i                    [0]  ideal, 3 generator(s)
&rarr; // l                    [0]  link
&rarr; // LIB                  [0]  string standard.lib
  close(l);                     // link is closed
  dump(&quot;MPfile:w example.mp&quot;);  // dump everything to example.mp
  kill i, s;                    // kill i and s
  getdump(&quot;MPfile: example.mp&quot;);// get previous dump
  listvar();                    // got all variables and values back
&rarr; // mpsr_r0              [0]  *ring
&rarr; //      i                    [0]  ideal, 3 generator(s)
&rarr; // s                    [0]  string hello world
&rarr; // l                    [0]  link
&rarr; // LIB                  [0]  string standard.lib
</pre></td></tr></table>

</td>
</tr>
</table>
<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">  <a href="index.htm"><img
    src="../singular_images/singular-icon-transparent.png" width="50"
      border="0" alt="Top"></a>
</td>
<td valign="middle" align="left"><a href="sing_97.htm#MP-links" title="Previous section in reading order"><img src="../singular_images/a_left.png" border="0" alt="Back: 4.6.5 MP links" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_99.htm#MPtcp-links" title="Next section in reading order"><img src="../singular_images/a_right.png" border="0" alt="Forward: 4.6.5.2 MPtcp links" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_66.htm#Data-types" title="Beginning of this chapter or previous chapter"><img src="../singular_images/a_leftdouble.png" border="0" alt="FastBack: 4. Data types" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_154.htm#Functions-and-system-variables" title="Next chapter"><img src="../singular_images/a_rightdouble.png" border="0" alt="FastForward: 5. Functions and system variables" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_97.htm#MP-links" title="Up section"><img src="../singular_images/a_up.png" border="0" alt="Up: 4.6.5 MP links" align="middle"></a></td>
<td valign="middle" align="left"><a href="index.htm#Top" title="Cover (top) of document"><img src="../singular_images/a_top.png" border="0" alt="Top: Singular 2-0-4 Manual" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_toc.htm#SEC_Contents" title="Table of contents"><img src="../singular_images/a_tableofcon.png" border="0" alt="Contents: Table of Contents" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_915.htm#Index" title="Index"><img src="../singular_images/a_index.png" border="0" alt="Index: F. Index" align="middle"></a></td>
<td valign="middle" align="left"><a href="sing_abt.htm#SEC_About" title="About (help)"><img src="../singular_images/a_help.png" border="0" alt="About: About This Document" align="middle"></a></td>
</tr></table>
<font size="-1">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; User manual for <a href="http://www.singular.uni-kl.de/"><i>Singular</i></a> version 2-0-4, October 2002,
generated by <a href="http://www.nongnu.org/texi2html/"><i>texi2html</i></a>.
</font>

</body>
</html>
